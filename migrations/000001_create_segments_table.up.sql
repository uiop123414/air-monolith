-- Создание таблицы segments
CREATE TABLE segments (
    id SERIAL PRIMARY KEY,                  
    operation_type TEXT NOT NULL,   
    operation_time TIMESTAMP NOT NULL,
    operation_time_zone TEXT NOT NULL,
    operation_place TEXT NOT NULL, 
    passenger_name TEXT NOT NULL,  
    passenger_surname TEXT NOT NULL, 
    passenger_patronymic TEXT NOT NULL, 
    doc_type TEXT NOT NULL,         
    doc_number TEXT NOT NULL,       
    birthdate DATE NOT NULL,               
    gender TEXT NOT NULL,               
    passenger_type TEXT NOT NULL,   
    ticket_number TEXT NOT NULL,    
    ticket_type INTEGER NOT NULL,         
    airline_code TEXT NOT NULL,     
    flight_num INTEGER NOT NULL,           
    depart_place TEXT NOT NULL,    
    depart_datetime TIMESTAMP NOT NULL,
    arrive_place TEXT NOT NULL,     
    arrive_datetime TIMESTAMP NOT NULL, 
    pnr_id TEXT NOT NULL,           
    serial_number INTEGER NOT NULL,       
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(), 
    CONSTRAINT unique_ticket_serial UNIQUE (ticket_number, serial_number)
);
